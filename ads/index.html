<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link id="manifest" rel="manifest" href="/assets/other/webmanifest.json" />
    <title>Play Freegame and Have Fun</title>
    <meta name="keywords" content="Online games, free games, h5 games, free online games, browser games, mobile games, popular games, puzzle games, action games, adventure games, sport games, arcade games, casual games, racing games, ball games, shooting games, gun games" />
    <meta name="description" content="Play the best games on freegamehub.top. Including sport games, arcade games and more. Instantly play online for free!">
    <!-- Google 统计 (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1RP6E6GC5H"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1RP6E6GC5H');
    </script>
    <!-- TikTok ads -->
    <script>
        !function (w, d, t) {
            w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};

            ttq.load('CNFIGBJC77U60BOILT6G');
            ttq.page();
        }(window, document, 'ttq');
    </script>
    <!-- TikTok ads end -->
    <link rel="stylesheet" href="/ads/assets/styles.css">
</head>
<body>
    <!-- 谷歌Adsense广告代码 -->    
    <div id="adsense-container">
        <!-- Adsense代码 -->
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4694110216243855"
        crossorigin="anonymous"></script>
        <!-- freegamehub-展示广告1 -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-4694110216243855"
            data-ad-slot="8338320676"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
    <div id="nav-container">
        <a class="navLogo"><span style="color:red;">F</span>reeGameHub</a>
    </div>
    <div class="container">
        <div class="gallery">
            <a href="https://track.tenjin.com/v0/click/doFn3j2E3eMJ1her9RlN4u"><img src="/ads/pic/1.png" alt="Image 1"></a>
            <a href="https://track.tenjin.com/v0/click/gxX243Kxzw4WZdZWZ52PiE"><img src="/ads/pic/2.png" alt="Image 2"></a>
            <a href="https://track.tenjin.com/v0/click/dMvkWk9Xen7ddD7o8ZFKRH"><img src="/ads/pic/3.png" alt="Image 3"></a>
            <a href="https://track.tenjin.com/v0/click/hPRHfiOv2CLkNIItSKR56h"><img src="/ads/pic/4.png" alt="Image 4"></a>
            <a href="https://track.tenjin.com/v0/click/bnxsoEJAaI5W36T54laAeQ"><img src="/ads/pic/5.png" alt="Image 5"></a>
            <a href="https://track.tenjin.com/v0/click/cDtxCftxafXBmMfez1usKe"><img src="/ads/pic/6.png" alt="Image 6"></a>
            <a href="https://track.tenjin.com/v0/click/eEq7rMmzhKgaxuw3lYiBA0"><img src="/ads/pic/7.png" alt="Image 7"></a>
            <a href="https://track.tenjin.com/v0/click/d2T9Un9EUY6poR5VkjhnCl"><img src="/ads/pic/8.png" alt="Image 8"></a>
            <a href="https://track.tenjin.com/v0/click/bfdRIkyehB4kxT5pQs0TLW"><img src="/ads/pic/9.png" alt="Image 9"></a>
            <a href="https://track.tenjin.com/v0/click/bdT6o35MraDj0AF1bsnhre"><img src="/ads/pic/10.png" alt="Image 10"></a>
            <a href="https://track.tenjin.com/v0/click/cX3g0HDNfQSSOZ44JM4FhO"><img src="/ads/pic/11.png" alt="Image 11"></a>
            <a href="https://track.tenjin.com/v0/click/gnIm1UGXrPsuTtQv0qfK7l"><img src="/ads/pic/12.png" alt="Image 12"></a>
            <a href="https://track.tenjin.com/v0/click/hOg0XijRUNk5rMLDJcAn16"><img src="/ads/pic/13.png" alt="Image 13"></a>
            <a href="https://track.tenjin.com/v0/click/gem23ULLkBHRMpgAgTnyXC"><img src="/ads/pic/14.png" alt="Image 14"></a>
            <a href="https://track.tenjin.com/v0/click/emr2sr3ZNrami6NrntVoT4"><img src="/ads/pic/15.png" alt="Image 15"></a>
        </div>
        <a class="more-btn" href="/">More Game</a>
    </div>
    <script>
        // 在这里添加JavaScript代码
        // 监听iframe点击的函数
        var IframeOnClick = {
            istrack: null,
            resolution: 200,
            iframes: [],
            interval: null,

            Iframe: function() {
                this.element = arguments[0];
                this.cb = arguments[1];
                this.hasTracked = false;
            },

            track: function(element, cb) {
                this.iframes.push(new this.Iframe(element, cb));
                if (!this.interval) {
                    var _this = this;
                    this.interval = setInterval(function() {
                        _this.checkClick();
                    }, this.resolution);
                }
            },

            checkClick: function() {
                if (document.activeElement) {
                    var activeElement = document.activeElement;
                    var tagName = activeElement.tagName;
                    for (var i in this.iframes) {
                        if (activeElement === this.iframes[i].element) {
                            if (this.iframes[i].hasTracked == false) {
                                this.iframes[i].cb.apply(window, []);
                                this.iframes[i].hasTracked = true; 
                            }
                        }
                    }
                }
            }
        };

        // 页面加载完成后初始化广告监听
        window.onload = function() {
            // 假设adsense-container中已经包含了iframe
            var adsenseIframe = document.getElementById('adsense-container').getElementsByTagName('iframe')[0];
            IframeOnClick.track(adsenseIframe, function() {
                // 当检测到点击时，发送追踪事件
                console.log('应该是广告加载完成');
                //ttq.track('clickplay', {});
            });
        };

        // 页面激活状态监听
        var hiddenProperty = 'hidden' in document ? 'hidden' : 'webkitHidden' in document ? 'webkitHidden' : 'mozHidden' in document ? 'mozHidden' : null;
        var visibilityChangeEvent = hiddenProperty.replace(/hidden/i, 'visibilitychange');
        var onVisibilityChange = function(){
            if (!document[hiddenProperty]) {
                console.log('页面非激活');
                if(IframeOnClick.istrack){
                    // 执行业务逻辑
                    console.log('应该是Adsense的iframe加载完成且判断页面非激活，判定为点了广告页面做了跳转');
                    //ttq.track('clickAdsense', {});
                }
            } else {
                console.log('页面激活');
                IframeOnClick.istrack = null;
            }
        };
        document.addEventListener(visibilityChangeEvent, onVisibilityChange);

        // 获取adsense-container元素
        var adsenseContainer = document.getElementById('adsense-container');
        console.log('Adsense容器', adsenseContainer);

        // 添加点击事件监听器
        adsenseContainer.addEventListener('click', function(event) {
            // 打印点击位置
            console.log('点击位置：', event.clientX, event.clientY);
        });

        


        // 获取 adsense-container 元素
        var adsenseContainer = document.getElementById('adsense-container');

        // 在 adsense-container 上添加点击事件监听器
        adsenseContainer.addEventListener('click', function(event) {
            console.log('点击位置：', event.clientX, event.clientY);
            // 检查事件的目标元素是否为 iframe
            if (event.target.tagName === 'IFRAME') {
                // 执行与 iframe 点击相关的事件处理逻辑
                console.log('iframe点击位置：', event.clientX, event.clientY);
                console.log('IFRAME clicked:', event.target.src);
                // ... 进行后续操作 ...
            }
        });




    </script>
</body>
</html>
